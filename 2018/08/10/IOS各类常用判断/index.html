<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="google-site-verification" content="xBT4GhYoi5qRD5tr338pgPM5OWHHIDR6mNg1a3euekI" />
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="业余学习笔记存放处">
    <meta name="keyword"  content="">
    <link rel="shortcut icon" href="/img/favicon.ico">

    <title>
        
        Dordly的博客 | Dordly&#39;s Blog
        
    </title>

    <!-- Custom CSS -->
    <link rel="stylesheet" href="../../../../css/aircloud.css">
    <link rel="stylesheet" href="../../../../css/gitment.css">
    <!--<link rel="stylesheet" href="https://imsun.github.io/gitment/style/default.css">-->
    <link href="//at.alicdn.com/t/font_620856_pl6z7sid89qkt9.css" rel="stylesheet" type="text/css">
    <!-- ga & ba script hoook -->
    <script></script>
</head>

<body>

<div class="site-nav-toggle" id="site-nav-toggle">
    <button>
        <span class="btn-bar"></span>
        <span class="btn-bar"></span>
        <span class="btn-bar"></span>
    </button>
</div>

<div class="index-about">
    <i> IOS笔记 </i>
</div>

<div class="index-container">
    
    <div class="index-left">
        
<div class="nav" id="nav">
    <div class="avatar-name">
        <div class="avatar">
            <img src="/img/avatar.jpg" />
        </div>
        <div class="name">
            <i>Dordly</i>
        </div>
    </div>
    <div class="contents" id="nav-content">
        <ul>
            <li >
                <a href="/">
                    <i class="iconfont icon-shouye1"></i>
                    <span>主页</span>
                </a>
            </li>
            <li >
                <a href="../../../../tags">
                    <i class="iconfont icon-biaoqian1"></i>
                    <span>标签</span>
                </a>
            </li>
            <li >
                <a href="../../../../archives">
                    <i class="iconfont icon-guidang2"></i>
                    <span>存档</span>
                </a>
            </li>
            <li >
                <a href="/about/">
                    <i class="iconfont icon-guanyu2"></i>
                    <span>关于</span>
                </a>
            </li>
            
            <li>
                <a id="search">
                    <i class="iconfont icon-sousuo1"></i>
                    <span>搜索</span>
                </a>
            </li>
            
        </ul>
    </div>
    
        <div id="toc" class="toc-article">
    <ol class="toc"><li class="toc-item toc-level-5"><a class="toc-link" href="#1、改变按钮倒计时与状态"><span class="toc-text">1、改变按钮倒计时与状态</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#2、过滤所有Emoji标签符号"><span class="toc-text">2、过滤所有Emoji标签符号</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#3、判断手机格式"><span class="toc-text">3、判断手机格式</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#4、判断姓名格式"><span class="toc-text">4、判断姓名格式</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#5、判断输入昵称"><span class="toc-text">5、判断输入昵称</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#6、判断邮箱格式"><span class="toc-text">6、判断邮箱格式</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#7、判断字符串首字符是否为字母"><span class="toc-text">7、判断字符串首字符是否为字母</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#8、时间戳转时间"><span class="toc-text">8、时间戳转时间</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#9、时间戳转星期"><span class="toc-text">9、时间戳转星期</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#10、-NSString转NSDate"><span class="toc-text">10、 NSString转NSDate</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#11、-判断系统通知是否打开"><span class="toc-text">11、 判断系统通知是否打开</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#12、获取手机型号"><span class="toc-text">12、获取手机型号</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#13、字典转JSON"><span class="toc-text">13、字典转JSON</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#14、判断银行卡是否合法"><span class="toc-text">14、判断银行卡是否合法</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#15、过滤指定字符"><span class="toc-text">15、过滤指定字符</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#16、判断密码格式"><span class="toc-text">16、判断密码格式</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#17、字符串替换"><span class="toc-text">17、字符串替换</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#18、字典按升序排序"><span class="toc-text">18、字典按升序排序</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#19、图片压缩"><span class="toc-text">19、图片压缩</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#20、显示原生弹框"><span class="toc-text">20、显示原生弹框</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#21、匹配身份证号码"><span class="toc-text">21、匹配身份证号码</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#22、每隔4个字符添加一个空格的字符串算法"><span class="toc-text">22、每隔4个字符添加一个空格的字符串算法</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#23、字符串转拼音"><span class="toc-text">23、字符串转拼音</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#24、判断字符串是否为整形，若字符串是一个字符，则判断是否是数字"><span class="toc-text">24、判断字符串是否为整形，若字符串是一个字符，则判断是否是数字</span></a></li></ol>
</div>
    
</div>


<div class="search-field" id="search-field">
    <div class="search-container">
        <div class="search-input">
            <span id="esc-search"> <i class="icon-fanhui iconfont"></i></span>
            <input id="search-input"/>
            <span id="begin-search">搜索</span>
        </div>
        <div class="search-result-container" id="search-result-container">

        </div>
    </div>
</div>
        <div class="index-about-mobile">
            <i> IOS笔记 </i>
        </div>
    </div>
    
    <div class="index-middle">
        <!-- Main Content -->
        


<div class="post-container">
    <div class="post-title">
        
    </div>

    <div class="post-meta">
        <span class="attr">发布于：<span>2018-08-10 11:08:51</span></span>
        
        </span>
        <span class="attr">访问：<span id="busuanzi_value_page_pv"></span>
</span>
</span>
    </div>
    <div class="post-content ">
        <p>##IOS各类常用判断</p>
<h5 id="1、改变按钮倒计时与状态"><a href="#1、改变按钮倒计时与状态" class="headerlink" title="1、改变按钮倒计时与状态"></a>1、改变按钮倒计时与状态</h5><figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">+(<span class="keyword">void</span>)changeVerifyButtonState:(<span class="built_in">UIButton</span> *)sender</span><br><span class="line">&#123;</span><br><span class="line">    __block <span class="keyword">int</span> countDown = <span class="number">120</span>;</span><br><span class="line">    <span class="built_in">dispatch_queue_t</span> queue = dispatch_get_global_queue(DISPATCH_QUEUE_PRIORITY_DEFAULT, <span class="number">0</span>);</span><br><span class="line">    dispatch_source_t timer = dispatch_source_create(DISPATCH_SOURCE_TYPE_TIMER, <span class="number">0</span>, <span class="number">0</span>,queue);</span><br><span class="line">    dispatch_source_set_timer(timer,dispatch_walltime(<span class="literal">NULL</span>, <span class="number">0</span>),<span class="number">1.0</span>*<span class="built_in">NSEC_PER_SEC</span>, <span class="number">0</span>);</span><br><span class="line">    dispatch_source_set_event_handler(timer, ^&#123;</span><br><span class="line">        <span class="keyword">if</span>(countDown &lt;= <span class="number">0</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="comment">//倒计时结束，关闭</span></span><br><span class="line">            dispatch_source_cancel(timer);</span><br><span class="line">            <span class="built_in">dispatch_async</span>(dispatch_get_main_queue(), ^&#123;</span><br><span class="line">                <span class="comment">//设置界面的按钮显示</span></span><br><span class="line">                sender.enabled = <span class="literal">YES</span>;</span><br><span class="line">                sender.backgroundColor = Main_Color;</span><br><span class="line">                [sender setTitle:<span class="string">@"重新获取验证码"</span> forState:<span class="built_in">UIControlStateNormal</span>];</span><br><span class="line">            &#125;);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">NSString</span> *TimeString = [<span class="built_in">NSString</span> stringWithFormat:<span class="string">@"%.2d"</span>, countDown];</span><br><span class="line">            <span class="built_in">dispatch_async</span>(dispatch_get_main_queue(), ^&#123;</span><br><span class="line">                [sender setTitle:[<span class="built_in">NSString</span> stringWithFormat:<span class="string">@"%@秒再次获取"</span>,TimeString] forState:<span class="built_in">UIControlStateNormal</span>];</span><br><span class="line">                sender.backgroundColor = MainTwoText_Color;</span><br><span class="line">                sender.enabled = <span class="literal">NO</span>;</span><br><span class="line">            &#125;);</span><br><span class="line">            countDown--;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;);</span><br><span class="line">    dispatch_resume(timer);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h5 id="2、过滤所有Emoji标签符号"><a href="#2、过滤所有Emoji标签符号" class="headerlink" title="2、过滤所有Emoji标签符号"></a>2、过滤所有Emoji标签符号</h5><figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**过滤所有Emoji标签符号*/</span></span><br><span class="line">+(<span class="built_in">BOOL</span>)stringContainEmoji:(<span class="built_in">NSString</span> *)emoji&#123;</span><br><span class="line">    __block <span class="built_in">BOOL</span> returnValue = <span class="literal">NO</span>;</span><br><span class="line">    [emoji enumerateSubstringsInRange:<span class="built_in">NSMakeRange</span>(<span class="number">0</span>, [emoji length]) options:<span class="built_in">NSStringEnumerationByComposedCharacterSequences</span> usingBlock:</span><br><span class="line">     ^(<span class="built_in">NSString</span> *substring, <span class="built_in">NSRange</span> substringRange, <span class="built_in">NSRange</span> enclosingRange, <span class="built_in">BOOL</span> *stop) &#123;</span><br><span class="line">         <span class="keyword">const</span> <span class="keyword">unichar</span> hs = [substring characterAtIndex:<span class="number">0</span>];</span><br><span class="line">         <span class="comment">// surrogate pair</span></span><br><span class="line">         <span class="keyword">if</span> (<span class="number">0xd800</span> &lt;= hs &amp;&amp; hs &lt;= <span class="number">0xdbff</span>) &#123;</span><br><span class="line">             <span class="keyword">if</span> (substring.length &gt; <span class="number">1</span>) &#123;</span><br><span class="line">                 <span class="keyword">const</span> <span class="keyword">unichar</span> ls = [substring characterAtIndex:<span class="number">1</span>];</span><br><span class="line">                 <span class="keyword">const</span> <span class="keyword">int</span> uc = ((hs - <span class="number">0xd800</span>) * <span class="number">0x400</span>) + (ls - <span class="number">0xdc00</span>) + <span class="number">0x10000</span>;</span><br><span class="line">                 <span class="keyword">if</span> (<span class="number">0x1d000</span> &lt;= uc &amp;&amp; uc &lt;= <span class="number">0x1f77f</span>) &#123;</span><br><span class="line">                     returnValue = <span class="literal">YES</span>;</span><br><span class="line">                 &#125;</span><br><span class="line">             &#125;</span><br><span class="line">         &#125; <span class="keyword">else</span> <span class="keyword">if</span> (substring.length &gt; <span class="number">1</span>) &#123;</span><br><span class="line">             <span class="keyword">const</span> <span class="keyword">unichar</span> ls = [substring characterAtIndex:<span class="number">1</span>];</span><br><span class="line">             <span class="keyword">if</span> (ls == <span class="number">0x20e3</span>) &#123;</span><br><span class="line">                 returnValue = <span class="literal">YES</span>;</span><br><span class="line">             &#125;</span><br><span class="line">         &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">             <span class="comment">// non surrogate</span></span><br><span class="line">             <span class="keyword">if</span> (<span class="number">0x2100</span> &lt;= hs &amp;&amp; hs &lt;= <span class="number">0x27ff</span>) &#123;</span><br><span class="line">                 returnValue = <span class="literal">YES</span>;</span><br><span class="line">             &#125; <span class="keyword">else</span> <span class="keyword">if</span> (<span class="number">0x2B05</span> &lt;= hs &amp;&amp; hs &lt;= <span class="number">0x2b07</span>) &#123;</span><br><span class="line">                 returnValue = <span class="literal">YES</span>;</span><br><span class="line">             &#125; <span class="keyword">else</span> <span class="keyword">if</span> (<span class="number">0x2934</span> &lt;= hs &amp;&amp; hs &lt;= <span class="number">0x2935</span>) &#123;</span><br><span class="line">                 returnValue = <span class="literal">YES</span>;</span><br><span class="line">             &#125; <span class="keyword">else</span> <span class="keyword">if</span> (<span class="number">0x3297</span> &lt;= hs &amp;&amp; hs &lt;= <span class="number">0x3299</span>) &#123;</span><br><span class="line">                 returnValue = <span class="literal">YES</span>;</span><br><span class="line">             &#125; <span class="keyword">else</span> <span class="keyword">if</span> (hs == <span class="number">0xa9</span> || hs == <span class="number">0xae</span> || hs == <span class="number">0x303d</span> || hs == <span class="number">0x3030</span> || hs == <span class="number">0x2b55</span> || hs == <span class="number">0x2b1c</span> || hs == <span class="number">0x2b1b</span> || hs == <span class="number">0x2b50</span>) &#123;</span><br><span class="line">                 returnValue = <span class="literal">YES</span>;</span><br><span class="line">             &#125;</span><br><span class="line">         &#125;</span><br><span class="line">     &#125;];</span><br><span class="line">    <span class="keyword">return</span> returnValue;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h5 id="3、判断手机格式"><a href="#3、判断手机格式" class="headerlink" title="3、判断手机格式"></a>3、判断手机格式</h5><figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">+(<span class="built_in">BOOL</span>)validateWithMobile:(<span class="built_in">NSString</span> *)mobile</span><br><span class="line">&#123;</span><br><span class="line">    <span class="built_in">NSString</span> * phone = <span class="string">@"^1([3-9]\\d&#123;9&#125;$)"</span>;</span><br><span class="line">    <span class="built_in">NSPredicate</span> *phoneTest = [<span class="built_in">NSPredicate</span> predicateWithFormat:<span class="string">@"SELF MATCHES %@"</span>,phone];</span><br><span class="line">    <span class="keyword">return</span> [phoneTest evaluateWithObject:mobile];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h5 id="4、判断姓名格式"><a href="#4、判断姓名格式" class="headerlink" title="4、判断姓名格式"></a>4、判断姓名格式</h5><figure class="highlight mipsasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">+(<span class="keyword">BOOL)validateUserName:(NSString </span>*)name</span><br><span class="line">&#123;</span><br><span class="line">    NSString *userNameRegex = @<span class="string">"^[A-Za-z0-9]&#123;3,20&#125;+$"</span><span class="comment">;</span></span><br><span class="line">    NSPredicate *userNamePredicate = [NSPredicate predicateWithFormat:@<span class="string">"SELF MATCHES %@"</span>,userNameRegex]<span class="comment">;</span></span><br><span class="line">    <span class="keyword">BOOL </span><span class="keyword">B </span>= [userNamePredicate evaluateWithObject:name]<span class="comment">;</span></span><br><span class="line">    return <span class="keyword">B;</span></span><br><span class="line"><span class="keyword">&#125;</span></span><br></pre></td></tr></table></figure>
<h5 id="5、判断输入昵称"><a href="#5、判断输入昵称" class="headerlink" title="5、判断输入昵称"></a>5、判断输入昵称</h5><figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">+(<span class="built_in">BOOL</span>)validateNickname:(<span class="built_in">NSString</span> *)nickname</span><br><span class="line">&#123;</span><br><span class="line">    <span class="built_in">NSString</span> *nicknameRegex = <span class="string">@"^[\u4E00-\u9FA5\uf900-\ufa2d·s•]&#123;2,20&#125;$"</span>;</span><br><span class="line">    <span class="built_in">NSPredicate</span> *passWordPredicate = [<span class="built_in">NSPredicate</span> predicateWithFormat:<span class="string">@"SELF MATCHES %@"</span>,nicknameRegex];</span><br><span class="line">    <span class="keyword">return</span> [passWordPredicate evaluateWithObject:nickname];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h5 id="6、判断邮箱格式"><a href="#6、判断邮箱格式" class="headerlink" title="6、判断邮箱格式"></a>6、判断邮箱格式</h5><figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">+(<span class="built_in">BOOL</span>)ValidateEmail:(<span class="built_in">NSString</span> *)email &#123;</span><br><span class="line">    <span class="built_in">NSString</span> *emailRegex = <span class="string">@"[A-Z0-9a-z._%+-]+@[A-Za-z0-9.-]+\\.[A-Za-z]&#123;2,4&#125;"</span>;</span><br><span class="line">    <span class="built_in">NSPredicate</span> *emailTest = [<span class="built_in">NSPredicate</span> predicateWithFormat:<span class="string">@"SELF MATCHES %@"</span>, emailRegex];</span><br><span class="line">    <span class="keyword">return</span> [emailTest evaluateWithObject:email];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h5 id="7、判断字符串首字符是否为字母"><a href="#7、判断字符串首字符是否为字母" class="headerlink" title="7、判断字符串首字符是否为字母"></a>7、判断字符串首字符是否为字母</h5><figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">+(<span class="built_in">BOOL</span>)JudgeString:(<span class="built_in">NSString</span> *)string&#123;</span><br><span class="line">    <span class="built_in">NSString</span> *regex = <span class="string">@"[A-Za-z]+"</span>;</span><br><span class="line">    <span class="built_in">NSPredicate</span>*predicate = [<span class="built_in">NSPredicate</span> predicateWithFormat:<span class="string">@"SELF MATCHES %@"</span>,regex];</span><br><span class="line">    <span class="keyword">return</span> [predicate evaluateWithObject:string];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h5 id="8、时间戳转时间"><a href="#8、时间戳转时间" class="headerlink" title="8、时间戳转时间"></a>8、时间戳转时间</h5><figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**1.时间戳转换成时间*/</span></span><br><span class="line">+ (<span class="built_in">NSString</span> *)dateWithString:(<span class="built_in">NSString</span> *)str Format:(<span class="built_in">NSString</span> *)format</span><br><span class="line">&#123;</span><br><span class="line">    <span class="built_in">NSTimeInterval</span> time = [str doubleValue];</span><br><span class="line">    <span class="comment">/** [[NSDate date] timeIntervalSince1970]*1000;*/</span></span><br><span class="line">    <span class="built_in">NSDate</span> *detaildate = [<span class="built_in">NSDate</span> dateWithTimeIntervalSince1970:time];</span><br><span class="line">    <span class="built_in">NSDateFormatter</span> *dateFormatter = [[<span class="built_in">NSDateFormatter</span> alloc] init];<span class="comment">//实例化一个NSDateFormatter对象</span></span><br><span class="line">    [dateFormatter setDateFormat:format];<span class="comment">//设定时间格式,这里可以设置成自己需要的格式</span></span><br><span class="line">    <span class="built_in">NSString</span> *currentDateStr = [dateFormatter stringFromDate:detaildate];</span><br><span class="line">    <span class="keyword">return</span> currentDateStr;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/**2.时间戳转换时间-毫秒*/</span></span><br><span class="line">+ (<span class="built_in">NSString</span> *)dateMSWithString:(<span class="built_in">NSString</span> *)str Format:(<span class="built_in">NSString</span> *)format</span><br><span class="line">&#123;</span><br><span class="line">    <span class="built_in">NSTimeInterval</span> time = [str doubleValue]/<span class="number">1000</span>;</span><br><span class="line">    <span class="comment">/** [[NSDate date] timeIntervalSince1970]*1000;*/</span></span><br><span class="line">    <span class="built_in">NSDate</span> *detaildate = [<span class="built_in">NSDate</span> dateWithTimeIntervalSince1970:time];</span><br><span class="line">    <span class="built_in">NSDateFormatter</span> *dateFormatter = [[<span class="built_in">NSDateFormatter</span> alloc] init];<span class="comment">//实例化一个NSDateFormatter对象</span></span><br><span class="line">    [dateFormatter setDateFormat:format];<span class="comment">//设定时间格式,这里可以设置成自己需要的格式</span></span><br><span class="line">    <span class="built_in">NSString</span> *currentDateStr = [dateFormatter stringFromDate:detaildate];</span><br><span class="line">    <span class="keyword">return</span> currentDateStr;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/**3.转换成时间*/</span></span><br><span class="line">+(<span class="built_in">NSString</span> *)dateWithDate:(<span class="built_in">NSDate</span> *)date Format:(<span class="built_in">NSString</span> *)format</span><br><span class="line">&#123;</span><br><span class="line">    <span class="built_in">NSDateFormatter</span> *dateFormatter = [[<span class="built_in">NSDateFormatter</span> alloc] init];<span class="comment">//实例化一个NSDateFormatter对象</span></span><br><span class="line">    [dateFormatter setDateFormat:format];<span class="comment">//设定时间格式,这里可以设置成自己需要的格式</span></span><br><span class="line">    <span class="built_in">NSString</span> *currentDateStr = [dateFormatter stringFromDate:date];</span><br><span class="line">    <span class="keyword">return</span> currentDateStr;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/**4.当前时间戳转换成时间*/</span></span><br><span class="line">+ (<span class="built_in">NSString</span> *)currentDateWithFormat:(<span class="built_in">NSString</span> *)format</span><br><span class="line">&#123;</span><br><span class="line">    <span class="built_in">NSDate</span> *detaildate = [<span class="built_in">NSDate</span> date];</span><br><span class="line">    <span class="built_in">NSDateFormatter</span> *dateFormatter = [[<span class="built_in">NSDateFormatter</span> alloc] init];<span class="comment">//实例化一个NSDateFormatter对象</span></span><br><span class="line">    [dateFormatter setDateFormat:format];<span class="comment">//设定时间格式,这里可以设置成自己需要的格式</span></span><br><span class="line">    <span class="built_in">NSString</span> *currentDateStr = [dateFormatter stringFromDate:detaildate];</span><br><span class="line">    <span class="keyword">return</span> currentDateStr;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h5 id="9、时间戳转星期"><a href="#9、时间戳转星期" class="headerlink" title="9、时间戳转星期"></a>9、时间戳转星期</h5><figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">+(<span class="built_in">NSString</span>*)getWeekDay:(<span class="built_in">NSString</span>*)currentStr</span><br><span class="line">&#123;</span><br><span class="line">    <span class="built_in">NSDateFormatter</span>* dateFormat = [[<span class="built_in">NSDateFormatter</span> alloc]init];</span><br><span class="line">    [dateFormat setDateFormat:<span class="string">@"yyyy-MM-dd"</span>];</span><br><span class="line">    <span class="built_in">NSDate</span>*date =[dateFormat dateFromString:currentStr];</span><br><span class="line">    <span class="built_in">NSArray</span>*weekdays = [<span class="built_in">NSArray</span> arrayWithObjects: [<span class="built_in">NSNull</span> null],<span class="string">@"星期日"</span>,<span class="string">@"星期一"</span>,<span class="string">@"星期二"</span>,<span class="string">@"星期三"</span>,<span class="string">@"星期四"</span>,<span class="string">@"星期五"</span>,<span class="string">@"星期六"</span>,<span class="literal">nil</span>];</span><br><span class="line">    <span class="built_in">NSCalendar</span>*calendar = [[<span class="built_in">NSCalendar</span> alloc]initWithCalendarIdentifier:<span class="built_in">NSCalendarIdentifierGregorian</span>];</span><br><span class="line">    <span class="built_in">NSTimeZone</span>*timeZone = [[<span class="built_in">NSTimeZone</span> alloc]initWithName:<span class="string">@"Asia/Shanghai"</span>];</span><br><span class="line">    [calendar setTimeZone: timeZone];</span><br><span class="line">    <span class="built_in">NSCalendarUnit</span> calendarUnit =<span class="built_in">NSCalendarUnitWeekday</span>;</span><br><span class="line">    <span class="built_in">NSDateComponents</span>*theComponents = [calendar components:calendarUnit fromDate:date];</span><br><span class="line">    <span class="keyword">return</span> [weekdays objectAtIndex:theComponents.weekday];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h5 id="10、-NSString转NSDate"><a href="#10、-NSString转NSDate" class="headerlink" title="10、 NSString转NSDate"></a>10、 NSString转NSDate</h5><figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">+ (<span class="built_in">NSDate</span> *)dateWithdate:(<span class="built_in">NSString</span> *)str Format:(<span class="built_in">NSString</span> *)format</span><br><span class="line">&#123;</span><br><span class="line">    <span class="built_in">NSDateFormatter</span> *dateFormatter = [[<span class="built_in">NSDateFormatter</span> alloc] init];<span class="comment">//实例化一个NSDateFormatter对象</span></span><br><span class="line">    [dateFormatter setDateFormat:format];<span class="comment">//设定时间格式,这里可以设置成自己需要的格式</span></span><br><span class="line">    <span class="built_in">NSDate</span> * mainDate = [dateFormatter dateFromString:str];</span><br><span class="line">    <span class="keyword">return</span> mainDate;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h5 id="11、-判断系统通知是否打开"><a href="#11、-判断系统通知是否打开" class="headerlink" title="11、 判断系统通知是否打开"></a>11、 判断系统通知是否打开</h5><figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">+(<span class="built_in">BOOL</span>)openThePushNotification&#123;</span><br><span class="line">    <span class="keyword">if</span> (IOS8) &#123;<span class="comment">//IOS8写的宏</span></span><br><span class="line">        <span class="keyword">if</span> ([[<span class="built_in">UIApplication</span> sharedApplication] currentUserNotificationSettings].types  == <span class="built_in">UIUserNotificationTypeNone</span>) &#123;</span><br><span class="line">            <span class="comment">//         未打开通知//这个是个自定义的alertView 当用户没有打开推送时  会弹出 可以替换成自己项目里面的弹框</span></span><br><span class="line">            <span class="keyword">if</span> (IOS8) &#123;<span class="comment">//iOS8以后跳转到设置界面的代码也出现了变化 下面这段代码是直接跳转到APP的设置界面</span></span><br><span class="line">                <span class="comment">//跳入当前App设置界面</span></span><br><span class="line">                [[<span class="built_in">UIApplication</span> sharedApplication] openURL:[<span class="built_in">NSURL</span> URLWithString:<span class="built_in">UIApplicationOpenSettingsURLString</span>]];</span><br><span class="line">            &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                <span class="comment">//适配iOS7 ,跳入系统设置界面</span></span><br><span class="line">                [[<span class="built_in">UIApplication</span> sharedApplication] openURL:[<span class="built_in">NSURL</span> URLWithString:<span class="string">@"prefs:General&amp;path=Reset"</span>]];</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">NO</span>;</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">YES</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123; <span class="comment">// ios7</span></span><br><span class="line">        <span class="keyword">if</span> ([[<span class="built_in">UIApplication</span> sharedApplication] enabledRemoteNotificationTypes]  == <span class="built_in">UIUserNotificationTypeNone</span>) &#123;</span><br><span class="line">            <span class="keyword">if</span> (IOS8) &#123;</span><br><span class="line">                <span class="comment">//跳入当前App设置界面</span></span><br><span class="line">                [[<span class="built_in">UIApplication</span> sharedApplication] openURL:[<span class="built_in">NSURL</span> URLWithString:<span class="built_in">UIApplicationOpenSettingsURLString</span>]];</span><br><span class="line">            &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                <span class="comment">//适配iOS7 ,跳入系统设置界面</span></span><br><span class="line">                [[<span class="built_in">UIApplication</span> sharedApplication] openURL:[<span class="built_in">NSURL</span> URLWithString:<span class="string">@"prefs:General&amp;path=Reset"</span>]];</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">NO</span>;</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            </span><br><span class="line">            <span class="keyword">return</span> <span class="literal">YES</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h5 id="12、获取手机型号"><a href="#12、获取手机型号" class="headerlink" title="12、获取手机型号"></a>12、获取手机型号</h5><figure class="highlight tcl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">+ (NSString *)deviceVersion</span><br><span class="line">&#123;</span><br><span class="line">    struct utsname systemInfo;</span><br><span class="line">    </span><br><span class="line">    uname(&amp;systemInfo);</span><br><span class="line">    NSString *<span class="keyword">platform</span> = [NSString stringWithCString:systemInfo.machine <span class="keyword">encoding</span>:NSASCIIStringEncoding];</span><br><span class="line">    <span class="keyword">if</span> ([<span class="keyword">platform</span> isEqualToString:@<span class="string">"iPhone5,1"</span>]) <span class="keyword">return</span> @<span class="string">"iPhone 5"</span>;</span><br><span class="line">    <span class="keyword">if</span> ([<span class="keyword">platform</span> isEqualToString:@<span class="string">"iPhone5,2"</span>]) <span class="keyword">return</span> @<span class="string">"iPhone 5"</span>;</span><br><span class="line">    <span class="keyword">if</span> ([<span class="keyword">platform</span> isEqualToString:@<span class="string">"iPhone5,3"</span>]) <span class="keyword">return</span> @<span class="string">"iPhone 5c"</span>;</span><br><span class="line">    <span class="keyword">if</span> ([<span class="keyword">platform</span> isEqualToString:@<span class="string">"iPhone5,4"</span>]) <span class="keyword">return</span> @<span class="string">"iPhone 5c"</span>;</span><br><span class="line">    <span class="keyword">if</span> ([<span class="keyword">platform</span> isEqualToString:@<span class="string">"iPhone6,1"</span>]) <span class="keyword">return</span> @<span class="string">"iPhone 5s"</span>;</span><br><span class="line">    <span class="keyword">if</span> ([<span class="keyword">platform</span> isEqualToString:@<span class="string">"iPhone6,2"</span>]) <span class="keyword">return</span> @<span class="string">"iPhone 5s"</span>;</span><br><span class="line">    <span class="keyword">if</span> ([<span class="keyword">platform</span> isEqualToString:@<span class="string">"iPhone7,1"</span>]) <span class="keyword">return</span> @<span class="string">"iPhone 6 Plus"</span>;</span><br><span class="line">    <span class="keyword">if</span> ([<span class="keyword">platform</span> isEqualToString:@<span class="string">"iPhone7,2"</span>]) <span class="keyword">return</span> @<span class="string">"iPhone 6"</span>;</span><br><span class="line">    <span class="keyword">if</span> ([<span class="keyword">platform</span> isEqualToString:@<span class="string">"iPhone8,1"</span>]) <span class="keyword">return</span> @<span class="string">"iPhone 6s"</span>;</span><br><span class="line">    <span class="keyword">if</span> ([<span class="keyword">platform</span> isEqualToString:@<span class="string">"iPhone8,2"</span>]) <span class="keyword">return</span> @<span class="string">"iPhone 6s Plus"</span>;</span><br><span class="line">    <span class="keyword">if</span> ([<span class="keyword">platform</span> isEqualToString:@<span class="string">"iPhone8,4"</span>]) <span class="keyword">return</span> @<span class="string">"iPhone SE"</span>;</span><br><span class="line">    <span class="keyword">if</span> ([<span class="keyword">platform</span> isEqualToString:@<span class="string">"iPhone9,1"</span>]) <span class="keyword">return</span> @<span class="string">"iPhone 7"</span>;</span><br><span class="line">    <span class="keyword">if</span> ([<span class="keyword">platform</span> isEqualToString:@<span class="string">"iPhone9,3"</span>]) <span class="keyword">return</span> @<span class="string">"iPhone 7"</span>;</span><br><span class="line">    <span class="keyword">if</span> ([<span class="keyword">platform</span> isEqualToString:@<span class="string">"iPhone9,2"</span>]) <span class="keyword">return</span> @<span class="string">"iPhone 7 Plus"</span>;</span><br><span class="line">    <span class="keyword">if</span> ([<span class="keyword">platform</span> isEqualToString:@<span class="string">"iPhone9,4"</span>]) <span class="keyword">return</span> @<span class="string">"iPhone 7 Plus"</span>;</span><br><span class="line">    <span class="keyword">if</span> ([<span class="keyword">platform</span> isEqualToString:@<span class="string">"iPhone10,1"</span>]) <span class="keyword">return</span> @<span class="string">"iPhone 8"</span>;</span><br><span class="line">    <span class="keyword">if</span> ([<span class="keyword">platform</span> isEqualToString:@<span class="string">"iPhone10,4"</span>]) <span class="keyword">return</span> @<span class="string">"iPhone 8"</span>;</span><br><span class="line">    <span class="keyword">if</span> ([<span class="keyword">platform</span> isEqualToString:@<span class="string">"iPhone10,2"</span>]) <span class="keyword">return</span> @<span class="string">"iPhone 8 Plus"</span>;</span><br><span class="line">    <span class="keyword">if</span> ([<span class="keyword">platform</span> isEqualToString:@<span class="string">"iPhone10,5"</span>]) <span class="keyword">return</span> @<span class="string">"iPhone 8 Plus"</span>;</span><br><span class="line">    <span class="keyword">if</span> ([<span class="keyword">platform</span> isEqualToString:@<span class="string">"iPhone10,3"</span>]) <span class="keyword">return</span> @<span class="string">"iPhone X"</span>;</span><br><span class="line">    <span class="keyword">if</span> ([<span class="keyword">platform</span> isEqualToString:@<span class="string">"iPhone10,6"</span>]) <span class="keyword">return</span> @<span class="string">"iPhone X"</span>;</span><br><span class="line">    <span class="keyword">if</span> ([<span class="keyword">platform</span> isEqualToString:@<span class="string">"i386"</span>])      <span class="keyword">return</span> @<span class="string">"iPhone Simulator"</span>;</span><br><span class="line">    <span class="keyword">if</span> ([<span class="keyword">platform</span> isEqualToString:@<span class="string">"x86_64"</span>])    <span class="keyword">return</span> @<span class="string">"iPhone Simulator"</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">platform</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h5 id="13、字典转JSON"><a href="#13、字典转JSON" class="headerlink" title="13、字典转JSON"></a>13、字典转JSON</h5><figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> *  字典转JSON</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line">+ (<span class="built_in">NSString</span> *)dictionaryToJson:(<span class="built_in">NSDictionary</span> *)dict</span><br><span class="line">&#123;</span><br><span class="line">    <span class="built_in">BOOL</span> isValidJSONObject = [<span class="built_in">NSJSONSerialization</span> isValidJSONObject:dict];</span><br><span class="line">    <span class="keyword">if</span> (isValidJSONObject)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">NSData</span> *jsonData =  [<span class="built_in">NSJSONSerialization</span> dataWithJSONObject:dict options:<span class="built_in">NSJSONWritingPrettyPrinted</span> error:<span class="literal">nil</span>];</span><br><span class="line">        <span class="keyword">return</span> [[<span class="built_in">NSString</span> alloc] initWithData:jsonData encoding:<span class="built_in">NSUTF8StringEncoding</span>];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">nil</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> * JSON转字典</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line">+ (<span class="built_in">NSDictionary</span> *)jsonToDictionary:(<span class="built_in">NSString</span> *)jsonString</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">if</span> (jsonString == <span class="literal">nil</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">nil</span>;</span><br><span class="line">    &#125;</span><br><span class="line"><span class="comment">//    NSLog(@"%@",jsonString);</span></span><br><span class="line">    <span class="built_in">NSData</span> *jsonData = [jsonString dataUsingEncoding:<span class="built_in">NSUTF8StringEncoding</span>];</span><br><span class="line">    <span class="built_in">NSError</span> *err;</span><br><span class="line">    <span class="built_in">NSDictionary</span> *dic = [<span class="built_in">NSJSONSerialization</span> JSONObjectWithData:jsonData</span><br><span class="line">                                                        options:<span class="built_in">NSJSONReadingMutableContainers</span></span><br><span class="line">                                                          error:&amp;err];</span><br><span class="line">    <span class="keyword">if</span>(err) &#123;</span><br><span class="line"><span class="comment">//        NSLog(@"json解析失败：%@",err);</span></span><br><span class="line">        <span class="keyword">return</span> <span class="literal">nil</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> dic;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h5 id="14、判断银行卡是否合法"><a href="#14、判断银行卡是否合法" class="headerlink" title="14、判断银行卡是否合法"></a>14、判断银行卡是否合法</h5><figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line">+(<span class="built_in">BOOL</span>)checkBankCardNumber:(<span class="built_in">NSString</span> *)cardNumber</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">int</span> oddSum = <span class="number">0</span>;     <span class="comment">// 奇数和</span></span><br><span class="line">    <span class="keyword">int</span> evenSum = <span class="number">0</span>;    <span class="comment">// 偶数和</span></span><br><span class="line">    <span class="keyword">int</span> allSum = <span class="number">0</span>;     <span class="comment">// 总和</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 循环加和</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="built_in">NSInteger</span> i = <span class="number">1</span>; i &lt;= cardNumber.length; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">NSString</span> *theNumber = [cardNumber substringWithRange:<span class="built_in">NSMakeRange</span>(cardNumber.length-i, <span class="number">1</span>)];</span><br><span class="line">        <span class="keyword">int</span> lastNumber = [theNumber intValue];</span><br><span class="line">        <span class="keyword">if</span> (i%<span class="number">2</span> == <span class="number">0</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="comment">// 偶数位</span></span><br><span class="line">            lastNumber *= <span class="number">2</span>;</span><br><span class="line">            <span class="keyword">if</span> (lastNumber &gt; <span class="number">9</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                lastNumber -=<span class="number">9</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            evenSum += lastNumber;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="comment">// 奇数位</span></span><br><span class="line">            oddSum += lastNumber;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    allSum = oddSum + evenSum;</span><br><span class="line">    <span class="comment">// 是否合法</span></span><br><span class="line">    <span class="keyword">if</span> (allSum%<span class="number">10</span> == <span class="number">0</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">YES</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">NO</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h5 id="15、过滤指定字符"><a href="#15、过滤指定字符" class="headerlink" title="15、过滤指定字符"></a>15、过滤指定字符</h5><figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">+(NSString*)<span class="string">RemoveSpecialCharacter:</span> (NSString *)str &#123;</span><br><span class="line">    NSRange urgentRange = [str <span class="string">rangeOfCharacterFromSet:</span> [NSCharacterSet <span class="string">characterSetWithCharactersInString:</span> @<span class="string">",.？、 ~￥#&amp;&lt;&gt;《》()[]&#123;&#125;【】^@/￡¤|§¨「」『』￠￢￣~@#&amp;*（）——+|《》$_€"</span>]];</span><br><span class="line">    <span class="keyword">if</span> (urgentRange.location != NSNotFound)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">return</span> [self <span class="string">RemoveSpecialCharacter:</span>[str <span class="string">stringByReplacingCharactersInRange:</span>urgentRange <span class="string">withString:</span>@<span class="string">""</span>]];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> str;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h5 id="16、判断密码格式"><a href="#16、判断密码格式" class="headerlink" title="16、判断密码格式"></a>16、判断密码格式</h5><figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">+(<span class="built_in">BOOL</span>)validateWithPassword:(<span class="built_in">NSString</span> *)password</span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">//密码只包含字母，数字，字符中至少两种</span></span><br><span class="line">    <span class="built_in">NSString</span> * regex = <span class="string">@"^(?![0-9]+$)(?![a-zA-Z]+$)[a-zA-Z0-9]&#123;6,18&#125;$"</span>;</span><br><span class="line">    <span class="built_in">NSPredicate</span> * pas= [<span class="built_in">NSPredicate</span> predicateWithFormat:<span class="string">@"SELF MATCHES %@"</span>,regex];</span><br><span class="line">    <span class="keyword">return</span> [pas evaluateWithObject:password];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h5 id="17、字符串替换"><a href="#17、字符串替换" class="headerlink" title="17、字符串替换"></a>17、字符串替换</h5><figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">+(NSString *)<span class="string">StringChooseString:</span>(NSString *)chooseStr&#123;</span><br><span class="line">    NSCharacterSet *set = [NSCharacterSet <span class="string">characterSetWithCharactersInString:</span>@<span class="string">"@／：；（）¥「」＂、[]&#123;&#125;#%-*+=_\\|~＜＞$€^•'@#$%^&amp;*()_+'\"."</span>];</span><br><span class="line">    NSString *trimmedString = [chooseStr <span class="string">stringByTrimmingCharactersInSet:</span>set];</span><br><span class="line"><span class="comment">//    NSLog(@"DELECT----%@",trimmedString);</span></span><br><span class="line">    NSString *str = [trimmedString <span class="string">stringByReplacingOccurrencesOfString:</span>@<span class="string">"\","</span> <span class="string">withString:</span>@<span class="string">"、"</span>];<span class="comment">//替换字符</span></span><br><span class="line">    NSString * twoStr = [str <span class="string">stringByReplacingOccurrencesOfString:</span>@<span class="string">"\""</span> <span class="string">withString:</span>@<span class="string">""</span>];</span><br><span class="line">    NSString * three = [twoStr <span class="string">stringByReplacingOccurrencesOfString:</span>@<span class="string">"."</span> <span class="string">withString:</span>@<span class="string">""</span>];</span><br><span class="line"><span class="comment">//    NSLog(@"DELECTONE----%@",three);</span></span><br><span class="line">    <span class="keyword">return</span> three;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h5 id="18、字典按升序排序"><a href="#18、字典按升序排序" class="headerlink" title="18、字典按升序排序"></a>18、字典按升序排序</h5><figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">+ (<span class="built_in">NSString</span> *)stringWithAscendingOrderDict:(<span class="built_in">NSDictionary</span>*)dict</span><br><span class="line">&#123;</span><br><span class="line">    <span class="built_in">NSArray</span>*keys = [dict allKeys];</span><br><span class="line">    <span class="built_in">NSArray</span>*sortedArray = [keys sortedArrayUsingComparator:^<span class="built_in">NSComparisonResult</span>(<span class="keyword">id</span> obj1,<span class="keyword">id</span> obj2)</span><br><span class="line">                           &#123;</span><br><span class="line">                               <span class="keyword">return</span>[obj1 compare:obj2 options:<span class="built_in">NSNumericSearch</span>];<span class="comment">//正序</span></span><br><span class="line">                           &#125;];</span><br><span class="line">    <span class="built_in">NSString</span>*str =<span class="string">@""</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="built_in">NSString</span>*categoryId <span class="keyword">in</span> sortedArray)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">id</span> value = [dict objectForKey:categoryId];</span><br><span class="line">        <span class="keyword">if</span> ([value isKindOfClass:[<span class="built_in">NSDictionary</span> <span class="keyword">class</span>]])</span><br><span class="line">        &#123;</span><br><span class="line">            value = [<span class="keyword">self</span> stringWithAscendingOrderDict:value];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> ([str length] !=<span class="number">0</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            str = [str stringByAppendingString:<span class="string">@"&amp;"</span>];</span><br><span class="line">        &#125;</span><br><span class="line">        str = [str stringByAppendingFormat:<span class="string">@"%@=%@"</span>,categoryId,value];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> str;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h5 id="19、图片压缩"><a href="#19、图片压缩" class="headerlink" title="19、图片压缩"></a>19、图片压缩</h5><figure class="highlight arduino"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">+ (UIImage *)imageWithImage:(UIImage *)<span class="built_in">image</span> scaledToSize:(CGSize)<span class="built_in">size</span> &#123;</span><br><span class="line">    UIGraphicsBeginImageContext(<span class="built_in">size</span>);</span><br><span class="line">    [<span class="built_in">image</span> drawInRect:CGRectMake(<span class="number">0</span>, <span class="number">0</span>, <span class="built_in">size</span>.<span class="built_in">width</span>, <span class="built_in">size</span>.<span class="built_in">height</span>)];</span><br><span class="line">    UIImage *newImage = UIGraphicsGetImageFromCurrentImageContext();</span><br><span class="line">    UIGraphicsEndImageContext();</span><br><span class="line">    <span class="built_in">return</span> newImage;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h5 id="20、显示原生弹框"><a href="#20、显示原生弹框" class="headerlink" title="20、显示原生弹框"></a>20、显示原生弹框</h5><figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">+ (<span class="keyword">void</span>)<span class="string">showInfo:</span>(NSString *)info <span class="string">VC:</span>(UIViewController *)VC</span><br><span class="line">&#123;</span><br><span class="line">    UIAlertController *alertVC = [UIAlertController <span class="string">alertControllerWithTitle:</span>@<span class="string">"温馨提示"</span> <span class="string">message:</span>info <span class="string">preferredStyle:</span>UIAlertControllerStyleAlert];</span><br><span class="line">    UIAlertAction *okAction = [UIAlertAction <span class="string">actionWithTitle:</span>@<span class="string">"确定"</span> <span class="string">style:</span>UIAlertActionStyleDefault <span class="string">handler:</span>nil];</span><br><span class="line">    [alertVC <span class="string">addAction:</span>okAction];</span><br><span class="line">    [VC <span class="string">presentViewController:</span>alertVC <span class="string">animated:</span>YES <span class="string">completion:</span>nil];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h5 id="21、匹配身份证号码"><a href="#21、匹配身份证号码" class="headerlink" title="21、匹配身份证号码"></a>21、匹配身份证号码</h5><figure class="highlight inform7"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">+ (BOOL)matchesWithIDCardNumber:(NSString *)idNumber</span><br><span class="line">&#123;</span><br><span class="line">    return <span class="comment">[self matchesWithFormatString:@"^<span class="comment">[1-9]</span>\\d&#123;7&#125;((0\\d)|(1<span class="comment">[0-2]</span>))((<span class="comment">[0|1|2]</span>\\d)|3<span class="comment">[0-1]</span>)\\d&#123;3&#125;$|^<span class="comment">[1-9]</span>\\d&#123;5&#125;<span class="comment">[1-9]</span>\\d&#123;3&#125;((0\\d)|(1<span class="comment">[0-2]</span>))((<span class="comment">[0|1|2]</span>\\d)|3<span class="comment">[0-1]</span>)\\d&#123;3&#125;(<span class="comment">[0-9]</span>|X)$" tagaetStr:idNumber]</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h5 id="22、每隔4个字符添加一个空格的字符串算法"><a href="#22、每隔4个字符添加一个空格的字符串算法" class="headerlink" title="22、每隔4个字符添加一个空格的字符串算法"></a>22、每隔4个字符添加一个空格的字符串算法</h5><figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">+ (<span class="built_in">NSString</span> *)dealWithString:(<span class="built_in">NSString</span> *)number</span><br><span class="line">&#123;</span><br><span class="line">    <span class="built_in">NSString</span> *doneTitle = <span class="string">@""</span>;</span><br><span class="line">    <span class="keyword">int</span> count = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; number.length; i++) &#123;</span><br><span class="line">        </span><br><span class="line">        count++;</span><br><span class="line">        doneTitle = [doneTitle stringByAppendingString:[number substringWithRange:<span class="built_in">NSMakeRange</span>(i, <span class="number">1</span>)]];</span><br><span class="line">        <span class="keyword">if</span> (count == <span class="number">4</span>) &#123;</span><br><span class="line">            doneTitle = [<span class="built_in">NSString</span> stringWithFormat:<span class="string">@"%@ "</span>, doneTitle];</span><br><span class="line">            count = <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"><span class="comment">//    NSLog(@"%@", doneTitle);</span></span><br><span class="line">    <span class="keyword">return</span> doneTitle;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h5 id="23、字符串转拼音"><a href="#23、字符串转拼音" class="headerlink" title="23、字符串转拼音"></a>23、字符串转拼音</h5><figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line">+(<span class="built_in">NSString</span> *)transformToPinyin:(<span class="built_in">NSString</span> *)aString</span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">//转成了可变字符串</span></span><br><span class="line">    <span class="built_in">NSMutableString</span> *str = [<span class="built_in">NSMutableString</span> stringWithString:aString];</span><br><span class="line">    <span class="built_in">CFStringTransform</span>((<span class="built_in">CFMutableStringRef</span>)str,<span class="literal">NULL</span>, kCFStringTransformMandarinLatin,<span class="literal">NO</span>);</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//再转换为不带声调的拼音</span></span><br><span class="line">    <span class="built_in">CFStringTransform</span>((<span class="built_in">CFMutableStringRef</span>)str,<span class="literal">NULL</span>, kCFStringTransformStripDiacritics,<span class="literal">NO</span>);</span><br><span class="line">    <span class="built_in">NSArray</span> *pinyinArray = [str componentsSeparatedByString:<span class="string">@" "</span>];</span><br><span class="line">    <span class="built_in">NSMutableString</span> *allString = [<span class="built_in">NSMutableString</span> new];</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">int</span> count = <span class="number">0</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span>  i = <span class="number">0</span>; i &lt; pinyinArray.count; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; pinyinArray.count;i++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span> (i == count) &#123;</span><br><span class="line">                [allString appendString:<span class="string">@"#"</span>];</span><br><span class="line">                <span class="comment">//区分第几个字母</span></span><br><span class="line">            &#125;</span><br><span class="line">            [allString appendFormat:<span class="string">@"%@"</span>,pinyinArray[i]];</span><br><span class="line">        &#125;</span><br><span class="line">        [allString appendString:<span class="string">@","</span>];</span><br><span class="line">        count ++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">NSMutableString</span> *initialStr = [<span class="built_in">NSMutableString</span> new];</span><br><span class="line">    <span class="comment">//拼音首字母</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="built_in">NSString</span> *s <span class="keyword">in</span> pinyinArray)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (s.length &gt; <span class="number">0</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            [initialStr appendString:  [s substringToIndex:<span class="number">1</span>]];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    [allString appendFormat:<span class="string">@"#%@"</span>,initialStr];</span><br><span class="line">    [allString appendFormat:<span class="string">@",#%@"</span>,aString];</span><br><span class="line">    <span class="keyword">return</span> allString;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h5 id="24、判断字符串是否为整形，若字符串是一个字符，则判断是否是数字"><a href="#24、判断字符串是否为整形，若字符串是一个字符，则判断是否是数字" class="headerlink" title="24、判断字符串是否为整形，若字符串是一个字符，则判断是否是数字"></a>24、判断字符串是否为整形，若字符串是一个字符，则判断是否是数字</h5><figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">+ (<span class="built_in">BOOL</span>) deptNumInputShouldNumber:(<span class="built_in">NSString</span> *)str</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">if</span> (str.length == <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">NO</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">NSString</span> *regex = <span class="string">@"[0-9]*"</span>;</span><br><span class="line">    <span class="built_in">NSPredicate</span> *pred = [<span class="built_in">NSPredicate</span> predicateWithFormat:<span class="string">@"SELF MATCHES %@"</span>,regex];</span><br><span class="line">    <span class="keyword">if</span> ([pred evaluateWithObject:str]) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">YES</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">NO</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><a href="https://github.com/Dordly/ValidateString.git" target="_blank" rel="noopener">地址</a></p>

        
        <div id="comment-container">
        </div>
    </div>
</div>
    </div>
</div>


<footer class="footer">
    <ul class="list-inline text-center">
        
        

        

        

        

        

    </ul>
    
    <p>
        <span id="busuanzi_container_site_pv">
            <span id="busuanzi_value_site_pv"></span>PV
        </span>
        <span id="busuanzi_container_site_uv">
            <span id="busuanzi_value_site_uv"></span>UV
        </span>
        Created By <a href="https://hexo.io/">Hexo</a>  Theme <a href="https://github.com/aircloud/hexo-theme-aircloud">AirCloud</a></p>
</footer>




</body>

<script>
    // We expose some of the variables needed by the front end
    window.hexo_search_path = "search.json"
    window.hexo_root = "/"
    window.isPost = true
</script>
<script src="https://cdn.bootcss.com/jquery/3.3.1/jquery.min.js"></script>
<script src="../../../../js/index.js"></script>
<script async src="//dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>

</html>
